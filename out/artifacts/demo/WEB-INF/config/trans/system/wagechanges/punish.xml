<?xml version="1.0" encoding="utf-8"?>
<Transaction name="punish" caption="" version="1.0" description="">
	<actionflow id="">
		<actions>
				<action id="start" type="begin"/>
			<action id="viewPage" type="view">
				<param name="page">screen/system/wagechanges/punish.jsp</param>
				<param name="paramType">result</param>
			</action>
			<action id="doBiz" class="com.nantian.iwap.action.wagechanges.PunishAction">
				<param name="querySqlId">
					queryPunishInfoWithPage
				</param>
				<param name="deleteSqlId">
					delPunish
				</param>
				<param name="insertSqlId">
					insertPunishInfo
				</param>
				<param name="queryStopSalarySqlId">
					queryStopSalary
				</param>
				<param name="updateSqlId">
					updateRole
				</param>
			</action>
			<action id="subBiz" type="subFlow">
				<param name="txcode">exportData</param>
			</action>
			<action id="inputSucess" type="view">
			<param name="page">screen/system/wagechanges/punishShow.jsp</param>
			<param name="paramType">session</param>
			<param name="paraName">punishInfo</param>
		</action>
			<action id="insertSucess" type="view">
				<param name="page">screen/system/wagechanges/punish.jsp</param>
				<param name="paramType">result</param>
			</action>
			<action id="ret" type="json">
				<param name="paramType">result</param>
			</action>
			<action id="end" type="end"/>
		</actions>
		<connections>
			<connection id="connection0" from="start" to="viewPage"/>
			<connection id="connection1" from="viewPage" to="doBiz"/>
			
			<!-- 录入成功 -->
			<connection id="connection2" from="doBiz" to="inputSucess">
				<condition><![CDATA['${resultFlag}'=='2']]></condition>
			</connection>
			<!-- 插入成功 -->
			<connection id="connection3" from="doBiz" to="insertSucess">
				<condition><![CDATA['${resultFlag}'=='3']]></condition>
			</connection>
			<connection id="connection4" from="doBiz" to="subBiz" />
			<connection id="connection5" from="inputSucess" to="end"/>
			<connection id="connection6" from="insertSucess" to="end"/>
			<connection id="connection7" from="subBiz" to="ret" />
			<connection id="connection8" from="ret" to="end"/>
		</connections>
	</actionflow>
</Transaction>